<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

  <h1 class="pudge-member-page-heading">
    <tt>CommandUpgrade</tt>
  </h1>
  <p class="pudge-member-parent-link">
    <small>
    The CommandUpgrade class is accessible via the
    <a href="module-sqlobject.manager.command.html">
      <tt>sqlobject.manager.command</tt>
    </a> module.
    </small>
  </p>
  <div id="pudge-section-nav">
  <ul>
    <li>
      <a href="#attributes" class="pudge-section-link">
        Attributes (14)
      </a>
    </li><li>
      <a href="#methods" class="pudge-section-link">
        Methods (29)
      </a>
    </li>
    <li>
      <a href="sqlobject/manager/command.py.html?f=1169&amp;l=1296#1169" class="pudge-section-link">
        Source
      </a>
    </li>
  </ul>
  </div>
  <div style="clear: left"></div>
  <hr>
    <a name="attributes"></a>
    <h2>Attributes</h2>
    <div class="pudge-member name">
    <a name="min_args"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#min_args" class="pudge-obj-link">min_args</a></tt></h4>
    <div class="pudge-section rst">
      <pre>0</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="help"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#help" class="pudge-obj-link">help</a></tt></h4>
    <div class="pudge-section rst">
      <pre>'This command runs scripts (that you write by hand) to upgrade a database.  The database\'s current version is in the sqlobject_version table (use record --force-db-version if a database does not have a sqlobject_version table), and upgrade scripts are in the version directory you are upgrading FROM, named upgrade_DBNAME_VERSION.sql, like "upgrade_mysql_2004-12-01b.sql".'</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="parser"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#parser" class="pudge-obj-link">parser</a></tt></h4>
    <div class="pudge-section rst">
      <pre>&lt;optparse.OptionParser instance></pre>
    </div>
  </div><div class="pudge-member name">
    <a name="aliases"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#aliases" class="pudge-obj-link">aliases</a></tt></h4>
    <div class="pudge-section rst">
      <pre>()</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="max_args"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#max_args" class="pudge-obj-link">max_args</a></tt></h4>
    <div class="pudge-section rst">
      <pre>0</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="max_args_error"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#max_args_error" class="pudge-obj-link">max_args_error</a></tt></h4>
    <div class="pudge-section rst">
      <pre>'You must provide no more than %(max_args)s arguments'</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="description"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#description" class="pudge-obj-link">description</a></tt></h4>
    <div class="pudge-section rst">
      <pre>None</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="prog_name"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#prog_name" class="pudge-obj-link">prog_name</a></tt></h4>
    <div class="pudge-section rst">
      <pre>&lt;property object></pre>
    </div>
  </div><div class="pudge-member name">
    <a name="name"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#name" class="pudge-obj-link">name</a></tt></h4>
    <div class="pudge-section rst">
      <pre>'upgrade'</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="summary"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#summary" class="pudge-obj-link">summary</a></tt></h4>
    <div class="pudge-section rst">
      <pre>'Update the database to a new version (as created by record)'</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="min_args_error"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#min_args_error" class="pudge-obj-link">min_args_error</a></tt></h4>
    <div class="pudge-section rst">
      <pre>'You must provide at least %(min_args)s arguments'</pre>
    </div>
  </div><div class="pudge-member name">
    <a name="version_regex"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#version_regex" class="pudge-obj-link">version_regex</a></tt></h4>
    <div class="pudge-section rst">
      <pre>&lt;_sre.SRE_Pattern object></pre>
    </div>
  </div><div class="pudge-member name">
    <a name="upgrade_regex"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#upgrade_regex" class="pudge-obj-link">upgrade_regex</a></tt></h4>
    <div class="pudge-section rst">
      <pre>&lt;_sre.SRE_Pattern object></pre>
    </div>
  </div><div class="pudge-member name">
    <a name="required_args"></a>
    <h4 class="pudge-member-name"><span class="prefix">a</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#required_args" class="pudge-obj-link">required_args</a></tt></h4>
    <div class="pudge-section rst">
      <pre>[]</pre>
    </div>
  </div>
    <a name="methods"></a>
    <h2>Methods</h2>
    <div class="pudge-member routine alias">
    <a name="__sizeof__"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#__sizeof__" class="pudge-obj-link">__sizeof__</a>(...)</tt>
      <a href="__builtin__.py.html" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    <p class="pudge-member-blurb">
      __sizeof__() -> int
size of object in memory, in bytes
    </p>
    </div>
  </div><div class="pudge-member routine alias">
    <a name="__format__"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#__format__" class="pudge-obj-link">__format__</a>(...)</tt>
      <a href="__builtin__.py.html" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    <p class="pudge-member-blurb">
      default object formatter
    </p>
    </div>
  </div><div class="pudge-member routine alias">
    <a name="__subclasshook__"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#__subclasshook__" class="pudge-obj-link">__subclasshook__</a>(...)</tt>
      <a href="None.html" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    <p class="pudge-member-blurb">
      Abstract classes can override this to customize issubclass().
    </p>
    <p>This is invoked early on by abc.ABCMeta.__subclasscheck__().
It should return True, False or NotImplemented.  If it returns
NotImplemented, the normal algorithm is used.  Otherwise, it
overrides the normal algorithm (and the outcome is cached).</p>
    </div>
  </div><div class="pudge-member routine ">
    <a name="orderClassesByDependencyLevel"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#orderClassesByDependencyLevel" class="pudge-obj-link">orderClassesByDependencyLevel</a>(self, classes)</tt>
      <a href="sqlobject/manager/command.py.html?f=200&amp;l=275#200" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    <p class="pudge-member-blurb">
      Return classes ordered by their depth in the class dependency
tree (this is <em>not</em> the inheritance tree), from the
top level (independant) classes to the deepest level.
The dependency tree is defined by the foreign key relations.
    </p>
    </div>
  </div><div class="pudge-member routine ">
    <a name="__classinit__"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#__classinit__" class="pudge-obj-link">__classinit__</a>(cls, new_args)</tt>
      <a href="sqlobject/manager/command.py.html?f=276&amp;l=281#276" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="__init__"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#__init__" class="pudge-obj-link">__init__</a>(self, invoked_as, command_name, args, runner)</tt>
      <a href="sqlobject/manager/command.py.html?f=282&amp;l=287#282" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="run"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#run" class="pudge-obj-link">run</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=288&amp;l=324#288" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="classes"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#classes" class="pudge-obj-link">classes</a>(self, require_connection=True, require_some=False)</tt>
      <a href="sqlobject/manager/command.py.html?f=325&amp;l=383#325" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="classes_from_module"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#classes_from_module" class="pudge-obj-link">classes_from_module</a>(self, module)</tt>
      <a href="sqlobject/manager/command.py.html?f=384&amp;l=399#384" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="connection"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#connection" class="pudge-obj-link">connection</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=400&amp;l=411#400" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="config"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#config" class="pudge-obj-link">config</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=412&amp;l=424#412" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="ini_config"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#ini_config" class="pudge-obj-link">ini_config</a>(self, conf_fn)</tt>
      <a href="sqlobject/manager/command.py.html?f=425&amp;l=467#425" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="classes_from_package"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#classes_from_package" class="pudge-obj-link">classes_from_package</a>(self, package_name)</tt>
      <a href="sqlobject/manager/command.py.html?f=468&amp;l=501#468" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="classes_from_egg"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#classes_from_egg" class="pudge-obj-link">classes_from_egg</a>(self, egg_spec)</tt>
      <a href="sqlobject/manager/command.py.html?f=502&amp;l=514#502" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="load_options_from_egg"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#load_options_from_egg" class="pudge-obj-link">load_options_from_egg</a>(self, egg_spec)</tt>
      <a href="sqlobject/manager/command.py.html?f=515&amp;l=522#515" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="config_from_egg"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#config_from_egg" class="pudge-obj-link">config_from_egg</a>(self, egg_spec, warn_no_sqlobject=True)</tt>
      <a href="sqlobject/manager/command.py.html?f=523&amp;l=542#523" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="ask"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#ask" class="pudge-obj-link">ask</a>(self, prompt, safe=False, default=True)</tt>
      <a href="sqlobject/manager/command.py.html?f=550&amp;l=564#550" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="shorten_filename"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#shorten_filename" class="pudge-obj-link">shorten_filename</a>(self, fn)</tt>
      <a href="sqlobject/manager/command.py.html?f=565&amp;l=573#565" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    <p class="pudge-member-blurb">
      Shortens a filename to make it relative to the current
directory (if it can).  For display purposes.
    </p>
    </div>
  </div><div class="pudge-member routine ">
    <a name="open_editor"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#open_editor" class="pudge-obj-link">open_editor</a>(self, pretext, breaker=None, extension='.txt')</tt>
      <a href="sqlobject/manager/command.py.html?f=574&amp;l=595#574" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    <p class="pudge-member-blurb">
      Open an editor with the given text.  Return the new text,
or None if no edits were made.  If given, everything after
    <cite>breaker</cite>
   will be ignored.
    </p>
    </div>
  </div><div class="pudge-member routine ">
    <a name="update_db"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#update_db" class="pudge-obj-link">update_db</a>(self, version, conn)</tt>
      <a href="sqlobject/manager/command.py.html?f=1080&amp;l=1096#1080" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="strip_comments"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#strip_comments" class="pudge-obj-link">strip_comments</a>(self, sql)</tt>
      <a href="sqlobject/manager/command.py.html?f=1097&amp;l=1101#1097" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="base_dir"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#base_dir" class="pudge-obj-link">base_dir</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=1102&amp;l=1116#1102" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="find_output_dir"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#find_output_dir" class="pudge-obj-link">find_output_dir</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=1117&amp;l=1136#1117" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="find_last_version"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#find_last_version" class="pudge-obj-link">find_last_version</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=1137&amp;l=1147#1137" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="command_force_db_version"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#command_force_db_version" class="pudge-obj-link">command_force_db_version</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=1148&amp;l=1167#1148" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="command"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#command" class="pudge-obj-link">command</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=1195&amp;l=1235#1195" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="current_version"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#current_version" class="pudge-obj-link">current_version</a>(self)</tt>
      <a href="sqlobject/manager/command.py.html?f=1236&amp;l=1249#1236" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="make_plan"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#make_plan" class="pudge-obj-link">make_plan</a>(self, current, dest)</tt>
      <a href="sqlobject/manager/command.py.html?f=1250&amp;l=1265#1250" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div><div class="pudge-member routine ">
    <a name="best_upgrade"></a>
    <h4 class="pudge-member-name"><span class="prefix">f</span>
      <tt><a href="class-sqlobject.manager.command.CommandUpgrade.html#best_upgrade" class="pudge-obj-link">best_upgrade</a>(self, current, dest, target_dbname)</tt>
      <a href="sqlobject/manager/command.py.html?f=1266&amp;l=1296#1266" title="View Source">...</a>
    </h4>
    <div class="pudge-section rst">
    </div>
  </div>
  <p>
    <small>
    See 
    <a href="sqlobject/manager/command.py.html?f=1169&amp;l=1296#1169" title="sqlobject/manager/command.py:1169">the source</a>
    for more information.
    </small>
  </p>
